{"meta":{"title":"Hexo","subtitle":null,"description":null,"author":"John Doe","url":"http://yoursite.com"},"pages":[],"posts":[{"title":"测试阿萨斯","slug":"测试阿萨斯","date":"2020-04-06T14:56:29.000Z","updated":"2020-04-06T14:56:29.118Z","comments":true,"path":"2020/04/06/测试阿萨斯/","link":"","permalink":"http://yoursite.com/2020/04/06/测试阿萨斯/","excerpt":"","text":"","categories":[],"tags":[],"keywords":[]},{"title":"tag","slug":"tag","date":"2020-04-06T14:41:22.000Z","updated":"2020-04-06T14:41:22.136Z","comments":true,"path":"2020/04/06/tag/","link":"","permalink":"http://yoursite.com/2020/04/06/tag/","excerpt":"","text":"","categories":[],"tags":[],"keywords":[]},{"title":"测试文档","slug":"测试文档","date":"2020-04-06T14:41:06.000Z","updated":"2020-04-06T14:41:06.908Z","comments":true,"path":"2020/04/06/测试文档/","link":"","permalink":"http://yoursite.com/2020/04/06/测试文档/","excerpt":"","text":"","categories":[],"tags":[],"keywords":[]},{"title":"树莓派安装PHP环境LNMP","slug":"树莓派安装PHP环境LNMP","date":"2020-04-06T14:31:08.000Z","updated":"2020-04-06T14:38:48.037Z","comments":true,"path":"2020/04/06/树莓派安装PHP环境LNMP/","link":"","permalink":"http://yoursite.com/2020/04/06/树莓派安装PHP环境LNMP/","excerpt":"","text":"安装PHP7.3万事先更新 1sudo apt-get update 安装php7.3 1sudo apt install -y -t buster php7.3-fpm php7.3-curl php7.3-gd php7.3-intl php7.3-mbstring php7.3-mysql php7.3-imap php7.3-opcache php7.3-sqlite3 php7.3-xml php7.3-xmlrpc php7.3-zip 查看版本号确定是否成功 1php -v 显示如下就成功了 12345pi@raspberrypi:~ $ php -vPHP 7.3.4-2 (cli) (built: Apr 13 2019 19:05:48) ( NTS )Copyright (c) 1997-2018 The PHP GroupZend Engine v3.3.4, Copyright (c) 1998-2018 Zend Technologieswith Zend OPcache v7.3.4-2, Copyright (c) 1999-2018, by Zend Technologies 查看php.ini配置文件位置 12pi@raspberrypi:~ $ php -i|grep &quot;Loaded Configuration File&quot;Loaded Configuration File =&gt; /etc/php/7.3/cli/php.ini 输出显示配置文件在/etc/php/7.3/cli/php.ini。注意，实际上配置文件有两个，另外一个在/etc/php/7.3/fpm/php.ini。通过命令行调用php时，会使用第一个配置文件；通过fpm调用php（例如nginx）会使用第二个配置文件。 php-fpm常用管理命令：开启php-fpm: sudo systemctl start php7.3-fpm关闭php-fpm: sudo systemctl stop php7.3-fpm重启php-fpm: sudo systemctl restart php7.3-fpm编辑php-fpm配置文件： vi /etc/php/7.3/fpm/php-fpm.ini 安装Nginx安装nginx: 1sudo apt-get install nginx 安装完成后，会自动开启nginx。在浏览器输入树莓派的IP地址，可以看到“Welcome to nginx!”。或者使用命令行（输出HTML就ok了）： 1curl 127.0.0.1 默认的网站根目录：/var/www/htmlnginx配置文件目录：/etc/nginx/nginx主配置文件位置：/etc/nginx/nginx.conf nginx常用管理命令：启动nginx: sudo systemctl start nginx关闭nginx：sudo systemctl stop nginx设置nginx开机启动：sudo systemctl enable nginx 配置nginx解析php编辑配置nginx文件(此文件为ln的链接文件，也可直接编辑原始文件): 1sudo nano /etc/nginx/sites-enabled/default 找到index指令，添加index.php。修改后： 1index index.php index.html index.htm index.nginx-debian.html; 找到# pass PHP scripts to FastCGI server后面的location，删除注释。修改后如下： 12345678location ~ \\.php$ &#123;include snippets/fastcgi-php.conf;## # With php-fpm (or other unix sockets):fastcgi_pass unix:/run/php/php7.3-fpm.sock;# # With php-cgi (or other tcp sockets):#fastcgi_pass 127.0.0.1:9000;&#125; 保存后重启nginx： 1sudo systemctl restart nginx ps: 图方便的话可以把配置文件中 /var/www/html/ 路径改成 /home/pi/www/html ，然后再在pi文件夹里建相应文件夹，重启nginx，如果安装的树莓派系统为桌面版，可直接右键html文件夹属性把“更改内容”属性设置为“任何人”以让你可以在桌面系统更方便操作web文件 测试Nginx+PHP新建index.php文件 1sudo nano /var/www/html/index.php 编辑输入 12&lt;?phpphpinfo(); 访问树莓派IP地址显示phpInfo页面就ok了 Nginx启动问题启动nginx服务时如果遇到这个错误 Job for nginx.service failed because the control process exited with error code. See “systemctl stat 可能原因如下：1.nginx配置文件有错误 运行下面命令查看修改 1nginx -t 之前配置解析php时始终不能成功，只因为default文件最后一行缺少一个“}” 2.已经启动nginx或者配置文件中的端口号被占用，检查端口是否被占用 1netstat -tnlp 如果端口已经被占用，自己权衡一下是换个端口还是把占用端口的进程杀掉，检查nginx是否已经启动 ps -aux | grep nginx 如果已经启动使用下面命令干掉即可 1pkill -9 nginx 安装MySQL这里使用的是MySql分支mariadb: 1sudo apt-get install mariadb-server mariadb-client 执行数据库初始化安装 1sudo mysql_secure_installation 根据提示设置数据库root用户密码、是否允许外网访问等。 尝试登录数据库: 1mysql -u root -p 输入上一步设置的密码，发现无法登录，错误提示如下: 1ERROR 1698 (28000): Access denied for user ‘root’@’localhost’ 原因: 数据库默认使用系统用户登录，需要修改为使用密码登录。解决方案: sudo mysql -u root ，登入数据库后，依次执行以下SQL： 1234use mysql #切换到mysql数据库update user set plugin=&apos;mysql_native_password&apos;; #修改plugin字段flush privileges; #刷新权限exit; #退出数据库 再次使用mysql -u root -p即可通过密码登录数据库，无需root权限执行。 mariadb配置文件保存在多个位置：/etc/mysql/mariadb.cnf/etc/mysql/mariadb.conf.d//etc/mysql/conf.d/ mariadb常用命令：启动mariadb: sudo systemctl start mariadb关闭mariadb：systemctl stop mariadb设置mariadb开机启动：sudo systemctl enable mariadb 操作MySQL12sudo /etc/init.d/mysql restart# mysql的其他操作 status、start、stop、restart 开启远程访问允许远程访问 12345$ sudo nano /etc/mysql/mariadb.conf.d/50-server.cnf# 将bind-address这行注释掉# 或者将127.0.0.1 这个值改为 0.0.0.0# 然后重启$ sudo /etc/init.d/mysql restart 设置账户权限(注意下边root密码改为你自己设置的密码) 12345$ mysql -u root -p$ 输入密码MariaDB [(none)]&gt; use mysql;MariaDB [mysql]&gt; GRANT ALL PRIVILEGES ON *.* TO &apos;root&apos;@&apos;%&apos; IDENTIFIED BY &apos;root的密码&apos; WITH GRANT OPTION;MariaDB [mysql]&gt; flush privileges; 然后用Navicat或DBeaver新建MariaDB或MySQL连接即可 参考： https://blog.csdn.net/jdyanghang/article/details/102782780 https://www.jianshu.com/p/b258c5e2335b","categories":[],"tags":[],"keywords":[]},{"title":"Debian/树莓派安装Maven","slug":"Debian树莓派安装配置Maven","date":"2020-04-06T14:31:07.000Z","updated":"2020-04-06T14:46:16.641Z","comments":true,"path":"2020/04/06/Debian树莓派安装配置Maven/","link":"","permalink":"http://yoursite.com/2020/04/06/Debian树莓派安装配置Maven/","excerpt":"","text":"Maven的下载地址：http://maven.apache.org/download.cgi这里以最新的3.3.9版本为例进行安装，在这之前需要确保机器上已经安装了JDK。 在home文件夹中建立maven文件夹，文件夹可根据个人喜好，例如直接放pi中即可，下载安装文件建立文件夹： 1mkdir maven 下载： 1wget http://mirror.bit.edu.cn/apache/maven/maven-3/3.3.9/binaries/apache-maven-3.3.9-bin.tar.gz 解压： 1tar vxf apache-maven-3.3.9-bin.tar.gz 重命名： 1mv apache-maven-3.3.9 maven3.3.9 配置环境变量： 编辑文件： 1nano /etc/profile 在文件末尾加上以下几行()： 123MAVEN_HOME=/home/maven/maven3.3.9export MAVEN_HOMEexport PATH=$&#123;PATH&#125;:$&#123;MAVEN_HOME&#125;/bin 编辑完成后执行一下：使环境变量生效： 1source /etc/profile 最后运行mvn -v验证maven是否安装成功，如果安装成功会打印如下内容： 123456Apache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-11T00:41:47+08:00)Maven home: /home/maven/maven3.3.9Java version: 1.8.0_91, vendor: Oracle CorporationJava home: /home/jdk/jdk1.8/jreDefault locale: zh_CN, platform encoding: UTF-8OS name: &quot;linux&quot;, version: &quot;3.16.0-4-amd64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot; 修改配置文件配置源为阿里云 123456&lt;mirror&gt; &lt;id&gt;alimaven&lt;/id&gt; &lt;name&gt;aliyun maven&lt;/name&gt; &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt; &lt;mirrorOf&gt;central&lt;/mirrorOf&gt; &lt;/mirror&gt;","categories":[],"tags":[],"keywords":[]},{"title":"安装贴吧签到报错解决","slug":"安装贴吧签到错误解决","date":"2020-04-06T14:31:07.000Z","updated":"2020-04-06T14:48:25.345Z","comments":true,"path":"2020/04/06/安装贴吧签到错误解决/","link":"","permalink":"http://yoursite.com/2020/04/06/安装贴吧签到错误解决/","excerpt":"","text":"贴吧签到项目源码：https://gitee.com/kenvix/Tieba-Cloud-Sign 前提：系统安装了PHP运行环境，可见上一篇文章 安装教程略过，解压在web目录一步步安装即可 问题1、文件/文件夹权限错误 用爱特管理移动文件夹时候出现错误，执行 1sudo chmod 777 文件夹路径即可 2、CSRF报错 贴吧云签到添加bduss报错，参考 https://gitee.com/kenvix/Tieba-Cloud-Sign/wikis/%E5%85%B3%E4%BA%8E%E4%BA%91%E7%AD%BE%E5%88%B0CSRF%E9%98%B2%E5%BE%A1 计划任务crontab树莓派full系统自带crontab，因此不再详述，安装 使用apt-get install cron应该可以，但因其自带就没安装了。其他系统中是crond，debian中是cron这点需要注意下。 1crontab -e 执行完之后会让你选择编辑器，输入1按回车选择第一个nano即可 打开文件，直接输入需要执行的脚本 10 0/10 * * * ? /usr/bin/curl http://localhost/do.php 由于我就私用人不多就设置10分钟执行一次，可以根据需要修改合适时间 cron表达式生成可参考：https://www.beejson.com/tool/cron.html 重载程序 1service cron reload cronTab常用命令 1234service cron start //启动服务service cron stop //关闭服务service cron restart //重启服务service cron reload //重新载入配置 或者 123/etc/init.d/cron status #查看状态/etc/init.d/cron restart #启动服务ps -ef|grep cron #查看状态用这也行 查看定时任务 1crontab -l crontab没日志编辑 1nano /etc/rsyslog.conf 去掉注释的那行前面# 1234567891011## First some standard log files. Log by facility.#auth,authpriv.* /var/log/auth.log*.*;auth,authpriv.none -/var/log/syslogcron.* /var/log/cron.log #去掉这一行行首的#daemon.* -/var/log/daemon.logkern.* -/var/log/kern.loglpr.* -/var/log/lpr.logmail.* -/var/log/mail.loguser.* -/var/log/user.log 重启日志rsyslog服务 1sudo service rsyslog restart 使用Python脚本做计划任务crontab不知何种原因没执行，我决定用更简单的方式吧，由于系统带Python环境，因此我在/home/pi文件夹新建a.py文件 12345import requests,timewhile True: print(time.strftime(&apos;%Y-%m-%d %H:%M:%S&apos;,time.localtime(time.time()))+&apos; Execed!&apos;) requests.get(&apos;http://localhost/do.php&apos;) time.sleep(60) 复制代码进去，以上设置的是60秒，可根据实际情况更改，然后执行这个py文件即可，例如 1nohup python a.py &amp; 或者桌面系统更简单python a.py就行，窗口不关就能一直执行","categories":[],"tags":[{"name":"建站","slug":"建站","permalink":"http://yoursite.com/tags/建站/"}],"keywords":[]},{"title":"树莓派预装软件介绍","slug":"树莓派预装软件介绍 - 副本","date":"2020-04-06T14:31:07.000Z","updated":"2020-04-06T14:31:07.310Z","comments":true,"path":"2020/04/06/树莓派预装软件介绍 - 副本/","link":"","permalink":"http://yoursite.com/2020/04/06/树莓派预装软件介绍 - 副本/","excerpt":"","text":"","categories":[],"tags":[],"keywords":[]},{"title":"树莓派预装软件介绍","slug":"树莓派预装软件介绍","date":"2020-04-06T14:31:07.000Z","updated":"2020-04-06T14:31:07.310Z","comments":true,"path":"2020/04/06/树莓派预装软件介绍/","link":"","permalink":"http://yoursite.com/2020/04/06/树莓派预装软件介绍/","excerpt":"","text":"","categories":[],"tags":[],"keywords":[]}]}